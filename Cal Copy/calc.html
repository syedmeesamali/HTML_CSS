<html>
<head>
<script src="jQuery.js"></script>

<style>
button {
font-size: 200%;
width: 50px;
}

input {
font-size: 16px;
height: 40px;
width: 215px;
text-align: right;
}

</style>
</head>

<body>

<table>
<tr>
  <td colspan="4"><input id="display" disabled></input></td>
</tr>

<tr>
  <td><button id="button1" value="1">1</button></td>
  <td><button id="button2" value="2">2</button></td>
  <td><button id="button3" value="3">3</button></td>
  <td><button id="addButton">+</button></td>
</tr>
<tr>
  <td><button id="button4" value="4">4</button></td>
  <td><button id="button5" value="5">5</button></td>
  <td><button id="button6" value="6">6</button></td>
  <td><button id="subtractButton">-</button></td>
</tr>
<tr>
  <td><button id="button7" value="7">7</button></td>
  <td><button id="button8" value="8">8</button></td>
  <td><button id="button9" value="9">9</button></td>
  <td><button id="multiplyButton">*</button></td>
</tr>
<tr>
  <td><button id="clearButton">C</button></td>
  <td><button id="button0" value="0">0</button></td>
  <td><button id="equalsButton">=</button></td>
  <td><button id="divideButton">/</button></td>
</tr>

</table>

<span id='output'><!-- Use this span for writing debug messages or anything else you think will help! --></span>
<script>
/*
 * Implement all your JavaScript in this file!
 */

var num1 = '';
var num2 = '';
var operator = '';
var total = '';

$(document).ready(function(){

        $('button').on('click',function(e){
            //Capture the button clicked
            let btn = e.target.innerHTML;
                    if (btn >= '0' && btn <= '9') {
                    //Separate Handler functions for numbers and Operators
                        handleNumber(btn);
                    } else if (btn == 'C') {
                        handleClear();
                    } else if (btn == '=') {
                        $('#display').val('');
                        handleTotal();
                    }
                    else {
                        handleOperator(btn);
                    }   
              });
   
//Number handling function
function handleNumber(num) {    
    if ($('#display').val() == '+' || $('#display').val() == '-'
            || $('#display').val() == '*' || $('#display').val() == '/') {
    $('#display').val('');
    $('#display').val($('#display').val() + num);
    } else {
        $('#display').val($('#display').val() + num);
        if (operator !='') {
            num2 = $('#display').val();
        }
    }
    
    if (operator !='') {
        num2 = $('#display').val();
    }
}

//Operator handling function
function handleOperator(oper) {
    if (num1 =='') {
        num1 = $('#display').val();
        operator = oper;
        $('#display').val(oper);
    }
    
}

//Clear the Calculator screen
function handleClear() {
    $('#display').val('');
    num1 = '';
    num2 = '';
    operator = '';
    total = '';
}


//Below function calculates the total based on the input buttons and operators
function handleTotal() {
    switch (operator) {
        case '+':
            total = +num1 + +num2;
            $('#display').val(total);
            break;
        case '-':
            total = +num1 - +num2;
            $('#display').val(total);
            break;
        case '/':
            total = +num1 / +num2;
            $('#display').val(total);
            break;
        case '*':
            total = +num1 * +num2;
            $('#display').val(total);
            break;
    }
    updateVariables();
}

function updateVariables() {
    num1 = total;
    num2 = '';
}

});
</script>

</body>

</html>
